(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{18:function(e,t,a){e.exports=a(29)},23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(6),m=a(1),s=(a(23),function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"nav"},r.a.createElement(o.c,{to:"/",exact:!0,className:"nav-item",activeClassName:"active"},"Home"),r.a.createElement(o.c,{to:"/people",className:"nav-item",activeClassName:"active"},"People")))}),u=function(){return r.a.createElement("div",null,"Homepage")},i=function(){return r.a.createElement("div",null,"Page not found")},p=a(10),d=a(9),h=a.n(d),E=function(e){var t,a=e.person,n=e.name,c=e.paramsName,l=e.people,s=Object(m.h)().search,u=a.name.toLowerCase(),i=l.some((function(e){return n===e.name}));return r.a.createElement(o.b,{to:"/people/".concat((t=n,t?t.toLowerCase().split(" ").join("-")+"-".concat(a.born):"")).concat(s),className:h()("name-link",{blue:c===u&&"m"===a.sex},{red:c===u&&"f"===a.sex},{bold:n&&c===n.toLowerCase()&&!i})},n)},f=function(e){var t=e.sortBy,a=e.title,c=e.searchParams,l=Object(n.useState)("asc"),o=Object(p.a)(l,2),s=o[0],u=o[1],i=Object(m.g)(),d=c.get("sortByOrder"),h=a.toLocaleLowerCase();return r.a.createElement("td",{"data-name":a.toLowerCase(),onClick:function(e){var t,a=null===(t=e.currentTarget.attributes.getNamedItem("data-name"))||void 0===t?void 0:t.value;a&&(c.set("sortBy",a),c.set("sortByOrder",s),u("asc"===s?"desc":"asc"),i.push("?".concat(c.toString())))}},r.a.createElement("span",{className:"title"},a," ",t===a.toLowerCase()&&"*"),"asc"===d&&t===h,"desc"===d&&t===h)},b=function(e){var t=e.searchParams,a=t.get("query")||"",n=Object(m.g)();return r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"search"},"Search"),r.a.createElement("input",{id:"search",value:a||"",type:"text",onChange:function(e){e.target.value?t.set("query",e.target.value):t.delete("query"),n.push("?".concat(t.toString()))}}))},v=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(m.h)(),o=new URLSearchParams(l.search),s=o.get("sortBy"),u=o.get("sortByOrder"),i=["name","sex","born","died"],d=o.get("query")||"",v=Object(m.i)();Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()})).then((function(e){var t=e.map((function(e){return e.mother=e.motherName,e.father=e.fatherName,e}));c(t)}))}),[a]);var N=Object(n.useMemo)((function(){return function(){var e=d?a.filter((function(e){return e.name.toLowerCase().includes(d)||e.fatherName&&e.fatherName.toLowerCase().includes(d)||e.motherName&&e.motherName.toLowerCase().includes(d)})):a;return s&&i.some((function(e){return e===s}))&&(e=e.sort((function(e,t){return"name"===s||"sex"===s?"asc"!==u&&u?t[s].localeCompare(e[s]):e[s].localeCompare(t[s]):"born"===s||"died"===s?"asc"!==u&&u?t[s]-e[s]:e[s]-t[s]:0}))),e}()}),[d,u,s,a]),g=function(){if(v.person){var e=v.person.split("-");return e.slice(0,e.length-1).join(" ")}return""}();return r.a.createElement("div",null,r.a.createElement(b,{searchParams:o}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,["Name","Sex","Born","Died"].map((function(e){return r.a.createElement(f,{sortBy:s,title:e,searchParams:o,key:e})})),r.a.createElement("td",null,"Mother"),r.a.createElement("td",null,"Father"))),r.a.createElement("tbody",null,N.map((function(e){return r.a.createElement("tr",{className:h()({row:g===e.name.toLowerCase()})},r.a.createElement("td",{className:"person-name"},r.a.createElement(E,{person:e,name:e.name,paramsName:g,people:a})),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",null,r.a.createElement(E,{person:e,name:e.mother,paramsName:g,people:a})),r.a.createElement("td",null,r.a.createElement(E,{person:e,name:e.father,paramsName:g,people:a})))})))))},N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:u}),r.a.createElement(m.b,{path:"/people/:person?",component:v}),r.a.createElement(m.a,{path:"/home",to:"/"}),r.a.createElement(m.a,{path:"/people",to:"/"}),r.a.createElement(i,null)))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.04179e4e.chunk.js.map